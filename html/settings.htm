<html>
    <head>
    <title>BookShelf</title>
    <link rel="stylesheet" type="text/css" href="html/css/nav.css">
    </head>

    <body>

    <script>
        //script is for Java Script
        function addPath() {
            var table = document.getElementById("paths"); //looks for the variable paths. 
            //Use function to select any element in html
        
            var row = table.insertRow(-1); //makes new row at the end

            var cell = row.insertCell(0); //Makes the td

            cell.innerHTML = "<input type=\"text\">";
        }

        function sendPaths() {
            var settings = {};
            var table = document.getElementById("paths");
            var rows = table.rows.length;
            //Iterate through the table and store the cells in an array
            var i = 0;
            var hold = [];
            for (var i = 0; i < rows; i++) {
                var col = table.rows[i].cells.length;
                hold.push(table.rows[i].cells[0].firstChild.value);
            }
            settings.books = hold;
            stringPaths = JSON.stringify(settings);
            var xhr = new XMLHttpRequest();
            xhr.open("POST", "/applysettings", true);
            xhr.setRequestHeader('Content-Type', 'application/json');
            xhr.send(stringPaths);
        }

    </script>
    <h1><em>BookShelf</em></h1>
    <ul>
        <li><a href="/library">Library</a></li>
        <li><a href="/settings">Settings</a></li>
    </ul>
    <br />
    <h2>Settings</h2>
    
    <p>Choose path to books:</p>
    
    <table border="1" width="10%" id="paths">
        <tr>
            <td><input type="text"></td>
        </tr>
    </table>
    
    <button type="button" onClick="addPath()">Add row</button><br />
    <button type="button" onClick="sendPaths()">Apply</button>
    
    </body>
</html>
