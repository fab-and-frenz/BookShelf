<html>
    <head>
        <title>BookShelf: Library</title>
        <link rel="stylesheet" type="text/css" href="html/css/common.css" />
    </head>

    <body>
        <h1><em>BookShelf</em></h1>
        <ul>
            <li><a href="/library">Library</a></li>
            <li><a href="/settings">Settings</a></li>
        </ul>
        <br />
        <input type="text" placeholder="Search..">
        
        <!--
        <div class="dropdown">
            <button class="dropbtn">View:</button>
            <div class="dropdown-content">
                <a href="">GRID</a>
                <a href="">LIST</a>
            </div>
        </div>
        -->
        
        <table id="books">
            <tr>
                <th>Title</th>
                <th>Author</th>
                <th>Download</th>
            </tr>

            {{if .}}
                {{range .}}
                    <tr>
                        {{$ln := len .Authors}}
                        <td><a href="/read?id={{.Id.Hex}}&type={{.Type}}">{{if .Title}}{{.Title}}{{else}}{{.Filename}}{{end}}</a></td>
                        <td><a>{{if gt $ln 0}}{{index .Authors 0}}{{end}}</a></td>
                        <td><a href="/downloadbook?id={{.Id.Hex}}" download="{{.Filename}}">Download</a></td>
                    </tr>
                {{end}}
            {{end}}
        </table>

        <form action="/uploadbook" method="POST" enctype="multipart/form-data">
            <input name="books" id="filechooser" type="file" multiple/>
            <input type="submit" value="Upload Books"/>
        </form>
    </body>
</html>
